/*!
 * VhyReporter v1.1.1
 * For log tracking
 * Copyright vhall
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VhyReporter=t():e.VhyReporter=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(r=function(){"use strict";e.exports={__debug:0,getDataTimeout:1e4,sendDataTimeout:1e4,uploadUrl:"",upMode:"ajaxget",idprefix:""}})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],r=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(){}n.prototype.paramType=function(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","")},n.prototype.checkURL=function(e){return/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/.test(e)},n.prototype.isJson=function(e){return"object"==t(e)&&"[object object]"===Object.prototype.toString.call(e).toLowerCase()&&!e.length},n.prototype.isJsonString=function(e){if("string"==typeof e)try{if("object"==t(JSON.parse(e)))return!0}catch(e){return!1}return!1},n.prototype.ArrayToObj=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]="";return t},n.prototype.keyValueToObje=function(e,t){var n={};return n[e]=t,n},n.prototype.toObj=function(e,t){var n={};return"String"===this.paramType(e)?n=this.keyValueToObje(e,t):"Array"===this.paramType(e)?n=this.ArrayToObj(e):"Object"===this.paramType(e)?e:n},n.prototype.arrayUnique=function(e){for(var t=[],n={},r=0;r<e.length;r++)n[e[r]]||(n[e[r]]=!0,t.push(e[r]));return t},n.prototype.objMerge=function(e,t){if("Object"!==this.paramType(e)||"Object"!==this.paramType(t))return e;var n={};for(var r in e)n[r]=e[r];for(var o in t){var i=t[o],u=n[o],a=this.paramType(i),p=this.paramType(u);n[o]=u&&"Object"===p&&"Object"===a?this.objMerge(u,i):"Array"===p&&"Array"===a?this.arrayMergeUnique(u,i):"Function"===a&&"Function"===p?this.compose(u,i):i}return n},n.prototype.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},n.prototype.arrayMergeUnique=function(e,t){return e.push.apply(e,t),this.arrayUnique(e)},n.prototype.b64EncodeUnicode=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})))},e.exports=new n},void 0===(i="function"==typeof r?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(r=function(){"use strict";var t=new Map;e.exports=t})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(r=function(){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var i=n(4),u=i.UPMODE_OPS,a=i.getReportOptions,p=i.transporter,c=i.upLog,s=n(1),f=n(2),l=n(0),d=function(){function e(){return t(this,e),this}return o(e,[{key:"setConfig",value:function(e){return e&&(e.uploadUrl&&(l.uploadUrl=e.uploadUrl),e.idprefix&&(l.idprefix=e.idprefix),u.includes(e.upMode)&&(l.upMode=e.upMode),e.__debug&&(l.__debug=1)),this}},{key:"version",get:function(){return"1.1.1"}},{key:"baseConfig",get:function(){return l}},{key:"scout",value:function(e,t,n){var r=a(null==n?void 0:n.upMode);r.errCode?l.__debug&&console.error("uploadUrl invalid"):(r.data={k:e,id:"".concat(l.idprefix).concat(Date.now()),token:p(t)},c(r))}},{key:"registerSuperProperties",value:function(e,t,n){"Object"===s.paramType(e)&&"Function"===s.paramType(t)?(n=t,t=""):"String"===s.paramType(e)&&"Function"===s.paramType(t)&&(t=t.call(t));var r=s.toObj(e,t);for(var o in r)"Function"===s.paramType(r[o])&&(r[o]=r[o].call(r[o]));var i=f.get("VHALLSUPER")||{},u=s.objMerge(i,r);f.set("VHALLSUPER",u),"Function"===s.paramType(n)&&n.call(n)}},{key:"getSuperProperties",value:function(e){return f.get("VHALLSUPER")||{}}},{key:"clearSuperProperties",value:function(e){f.delete("VHALLSUPER")}}]),e}();e.exports=new d})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(r=function(){"use strict";var t=n(0),r=n(1),o=n(5),i=n(2),u={AJAXGET:"ajaxget"},a=Object.values(u);function p(e){r.isJsonString(e)&&(e=JSON.parse(e)),r.isJson(e)||(e=void 0,t.__debug&&console.warn("report content invalid"));var n=i.get("VHALLSUPER")||{};return e=r.objMerge(n,e),0===Object.getOwnPropertyNames(e).length&&(e=void 0),t.__debug&&console.log("send content: ",e),e?r.b64EncodeUnicode(JSON.stringify(e)):e}function c(e){var t="";return r.isJsonString(e)?t=window.btoa(e):r.isJson(e)&&(t=window.btoa(JSON.stringify(e))),t}function s(e){var n=e&&a.includes(e)?e:t.upMode,o=n===u.AJAXGET?t.uploadUrl:void 0;return o?r.checkURL(o)?{mode:n,url:o}:{errCode:411}:{errCode:410}}function f(e){e.mode,u.AJAXGET,(new o).get(e)}e.exports={UPMODE_OPS:a,transporter:p,doBtoa:c,getReportOptions:s,upLog:f}})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(r=function(){"use strict";var t=n(1),r=n(0);function o(e){if("String"===t.paramType(e)){e.indexOf("\n")>-1&&(e=e.replace(/[\r\n]/g,""));try{return JSON.parse(e)}catch(e){}return{code:200}}return"Object"===t.paramType(e)?e:{code:200}}function i(){var e=null;if(window.XDomainRequest)return new window.XDomainRequest;if(window.XMLHttpRequest)e=new window.XMLHttpRequest;else try{e=new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){try{e=new window.ActiveXObject("Msxml2.XMLHTTP")}catch(t){e=new window.XMLHttpRequest}}return e}function u(e){var n=!1,u=new i;u.onload=function(){n||(n=!0,e.success(o(u.responseText),u))},u.onerror=function(){n||(n=!0,e.error(o(u.responseText),u))},u.onreadystatechange=function(e,t){return function(){if(4===e.readyState){if(e.status>=200&&e.status<300||304===e.status){if(n)return;n=!0,t.success(o(e.responseText),e)}else{if(n)return;n=!0,t.error()}e.onreadystatechange=null,e.onload=null}}}(u,e);try{u.open(e.type,e.url,!0);try{u.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8")}catch(e){}var a=r.sendDataTimeout;if("GET"===e.type?(a=r.getDataTimeout,u.send(null)):u.send(e.data),"Number"===t.paramType(a))if("Number"===t.paramType(u.timeout))u.timeout=a;else{var p=function(e){return function(){e.abort()}}(u);setTimeout(p,a)}}catch(e){}}function a(){this.url="",this.data="",this.type="GET",this.success=function(){},this.error=function(){}}a.prototype.get=function(e){var t=[];for(var n in e.data)t.push(n+"="+encodeURIComponent(e.data[n]));var r=e.url.indexOf("?")>-1?e.url+"&"+t.join("&"):e.url+"?"+t.join("&");this.url=r,this.data=e.data,this.type="GET",this.success=e.success||function(){},this.error=e.error||function(){},u(this)},a.prototype.post=function(e){this.url=e.url,this.data=e.data,this.type="POST",this.success=e.success||function(){},this.error=e.error||function(){},u(this)},e.exports=a})?r.apply(t,o):r)||(e.exports=i)}])}));